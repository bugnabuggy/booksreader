<div class="d-flex flex-1 flex-column justify-content-between">
  <h2 class="w-100">
    Chapters
    <button class="float-right" mat-icon-button aria-label="Add Chapter" (click)='add()'>
      <mat-icon>add_circle_outline</mat-icon>
    </button>
  </h2>
  <div class='flex-1 d-flex flex-column' style="overflow-y:scroll">
    <!-- <mat-list  cdkDropList (cdkDropListDropped)="drop($event)">
      <mat-list-item 
        [class.mat-list-item-selected]="i == selectedChapterIndex"
        *ngFor="let chapter of chapters; index as i"
        (click)="select(chapter)">
        <mat-icon mat-list-icon class='br-vert-midddle' cdkDrag>unfold_more</mat-icon>
        {{chapter.title}}
      </mat-list-item>
    </mat-list> -->
    
    <ul class='list-group flex-1 bg-warn' cdkDropList (cdkDropListDropped)="drop($event)">
      <li (click)="select(chapter)"
        (keydown.arrowup)="dec()"
        (keydown.arrowup)="inc()"
        (keydown.arrowleft)="dec()"
        (keydown.arrowright)="inc()"
       [class.selected]="i == selectedChapterIndex" class='list-group-item'
        *ngFor="let chapter of chapters; index as i" >
        <mat-icon cdkDrag mat-list-icon class='br-vert-midddle' >unfold_more</mat-icon>
        {{chapter.title}}
      </li>
    </ul>
  </div>

  <app-book-chapter-info-editor 
    *ngIf="selectedChapterIndex > -1"
    [chapter]="chapters[selectedChapterIndex]" 
    (delete)="delete()"
    (edit)="edit()">
  </app-book-chapter-info-editor>
</div>